<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        img {
            width: 100%;
            height: 50%;
            object-fit: cover;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
    </style>
</head>

<body>

    <a href="./detail.html#2">go detail</a>
    <div class="container">

    </div>

    </div>
    <script>
        const container = document.querySelector(".container")

        async function getAllProducts() {
            const res = await fetch("https://fakestoreapi.com/products")
            const data = await res.json()
            return data
        }

        getAllProducts()


        function craeateCard(id,src, name, count) {
            const card = document.createElement("div")
            const img = document.createElement("img")
            const title = document.createElement("div")
            const price = document.createElement("div")
            const btn = document.createElement("button")
            const a = document.createElement("a")

            card.style.border = "1px solid black"
            card.style.height = "500px"
            card.style.width = "100px"

            img.src = src
            a.href = "http://127.0.0.1:5500/detail.html#"+id

            title.textContent = name
            price.textContent = count
            btn.textContent = "go detail"


            a.appendChild(btn)
            card.append(img, title, price, a)
            container.appendChild(card)


        }

        async function generateUi() {
            const allProducts = await getAllProducts()

            allProducts.forEach(item => {
                craeateCard(item.id,item.image, item.title, item.price)
            });


        }

        generateUi()
    </script>
</body>

</html>